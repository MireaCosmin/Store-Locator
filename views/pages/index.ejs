<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Map box-->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
    
<title>Document</title>

</head>

<body>
    <h1 style="text-align:center">Store locator</h1>

    <!--Buton catre toate magazinele-->
    <button>
        <a href="stores">All stores</a>
    </button>

    <!--Buton catre formul de adaugare magazine-->
    <button>
        <a href="add">Add new store</a>
    </button>

    <!--Harta-->
    <div id='map' style='width: 100%; height: 500px;'></div>

<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoia3JvemJybyIsImEiOiJja3RteGM0MDIwZzgzMnVzODVrcW1zYTJlIn0.uJ2SRg8o6HzA9R0W57GY3w';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/streets-v11',
zoom: 2,
center: [40.157895, 42.707741]
});

/*
function getStores(rows){
    for (var i=0; i < rows.length; i++) {
        stores = {
            'type': 'Feature',
            'geometry': {
            'type': 'Point',
            'coordinates': [rows[i].latitude, rows[i].longitude]
            },
            'properties': {
            storeId: rows[i].name,
            icon: 'shop'
            }

                }
        loadMap(stores);
                                        };
                    }
*/

function loadMap() {

    map.on('load', () => {

        
map.addSource('point', {
'type': 'geojson',
'data': {
'type': 'FeatureCollection',
'features': [
{
'type': 'Feature',
'geometry': {
'type': 'Point',
'coordinates': [44.141869, 28.613397]
},
'properties': {
    storeId: 'Auchan',
    icon: 'shop'
}

}
]

}
});
 
// Add a layer to use the image to represent the data.
map.addLayer({
'id': 'points',
'type': 'symbol',
'source': 'point', // reference the data source
//ce se afiseaza
'layout': {
'icon-image': '{icon}-15', // reference the image
'icon-size': 1.5,
'text-field': '{storeId}',
'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold' ],
'text-offset': [0, 0.9],
'text-anchor': 'top'
}
});

       

});

}

//getStores(rows);
loadMap();

</script>
    

</body>

</html>